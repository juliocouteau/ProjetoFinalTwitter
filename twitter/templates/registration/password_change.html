{% extends 'twitter/base.html' %}
{% block content %}
<div class="flex flex-col items-center justify-center mt-10 px-4">
    <div class="w-full max-w-md bg-white dark:bg-gray-900 p-8 border dark:border-gray-800 rounded-2xl shadow-xl">
        <h2 class="text-2xl font-black mb-6 text-center dark:text-white">Alterar Senha</h2>
        
        <form method="post" class="space-y-4">
            {% csrf_token %}
            {% for field in form %}
                <div class="flex flex-col relative">
                    <label class="font-bold text-gray-700 dark:text-gray-300 mb-1 text-sm">{{ field.label }}</label>
                    <div class="relative">
                        <input type="password" name="{{ field.name }}" id="{{ field.id_for_label }}" 
                               class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 p-3 rounded-lg outline-none focus:ring-2 focus:ring-blue-400 text-black dark:text-white transition">
                        <button type="button" onclick="togglePass('{{ field.id_for_label }}')" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500">
                            <span id="eye-{{ field.id_for_label }}">ğŸ‘ï¸</span>
                        </button>
                    </div>
                    {% if field.errors %}<p class="text-red-500 text-xs mt-1">{{ field.errors.0 }}</p>{% endif %}
                </div>
            {% endfor %}
            <button type="submit" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-full transition mt-4">
                Confirmar Nova Senha
            </button>
        </form>
    </div>
</div>

<script>
    function togglePass(id) {
        const input = document.getElementById(id);
        const eye = document.getElementById('eye-' + id);
        if (input.type === 'password') {
            input.type = 'text'; eye.innerText = 'ğŸ™ˆ';
        } else {
            input.type = 'password'; eye.innerText = 'ğŸ‘ï¸';
        }
    }
</script>
{% endblock %}